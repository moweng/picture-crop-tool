module.exports=function(t){var i={};function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)e.d(n,o,function(i){return t[i]}.bind(null,o));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();var o=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=i,this.options=e}return n(t,[{key:"initCanvas",value:function(t,i,e){this._crop_canvas=document.createElement("canvas"),this._crop_canvas.width=i,this._crop_canvas.height=e,this.ctx=this._crop_canvas.getContext("2d"),this._crop_canvas.style="border: 1px solid red;",document.body.appendChild(this._crop_canvas)}},{key:"ellipseOne",value:function(t,i,e,n,o){var s=n>o?1/n:1/o;t.beginPath(),t.moveTo(i+n,e);for(var a=0;a<2*Math.PI;a+=s)t.lineTo(i+n*Math.cos(a),e+o*Math.sin(a));t.closePath(),t.clip()}},{key:"circleOne",value:function(t,i,e,n){t.beginPath(),console.log("x:",i),console.log("y:",e),console.log("radius:",n),t.arc(i,e,n,0,2*Math.PI),t.closePath(),t.clip()}},{key:"cutToEllipse",value:function(){var t=this.options.centerX,i=this.options.centerY,e=this.options.radiusX,n=this.options.radiusY;console.log("radiusX:",e),console.log("radiusY",n);var o=this.options.originWidth,s=this.options.originHeight,a=s?this.image.width/o:1,r=s?this.image.height/s:1,c=(t-e)*a,h=(i-n)*r,u=2*e*a,l=2*n*r;return this.ellipseOne(this.ctx,this._crop_canvas.width/2,this._crop_canvas.height/2,this._crop_canvas.width/2,this._crop_canvas.height/2),this.toCanvas(this.ctx,c,h,u,l,0,0,this._crop_canvas.width,this._crop_canvas.height)}},{key:"cutToRectTangle",value:function(){var t=this.options.originWidth,i=this.options.originHeight,e=i?this.image.width/t:1,n=i?this.image.height/i:1,o=this.options.left*e,s=this.options.top*n,a=this.options.width*e,r=this.options.height*n;return this.toCanvas(this.ctx,o,s,a,r,0,0,this._crop_canvas.width,this._crop_canvas.height)}},{key:"toCanvas",value:function(t,i,e,n,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,r=arguments[7],c=arguments[8];t.drawImage(this.image,i,e,n,o,s,a,r,c);var h=this._crop_canvas.toDataURL();return this.options.onCutDone&&this.options.onCutDone(h),this._crop_canvas.toDataURL()}},{key:"cutToCirCle",value:function(){var t=this.options.centerX,i=this.options.centerY,e=this.options.radius;console.log("radius:",e);var n=this.options.originWidth,o=this.options.originHeight,s=o?this.image.width/n:1,a=o?this.image.height/o:1,r=(t-e)*s,c=(i-e)*a,h=2*e*s,u=2*e*a;return this.circleOne(this.ctx,this._crop_canvas.width/2,this._crop_canvas.height/2,this._crop_canvas.width/2),this.toCanvas(this.ctx,r,c,h,u,0,0,this._crop_canvas.width,this._crop_canvas.height)}},{key:"startToCut",value:function(){this.image=new Image,this.image.setAttribute("crossOrigin","anonymous"),this.image.src=this.options.source;var t=this;this.image.onload=function(){switch(console.log("this.imageWidth:",t.image.width),t.initCanvas("myCanvas",t.image.width,t.image.height),t.type){case"ellipse":return t.cutToEllipe();case"rect":return t.cutToRectTangle();case"circle":return t.cutToCirCle();default:return""}}}}]),t}();i.default=o}]);